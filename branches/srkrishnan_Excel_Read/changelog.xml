<?xml version="1.0" encoding="UTF-8"?>
<document>
    <properties>
        <title>FileConnector Project Changelog</title>
        <author email="mpoyhonen@cordys.com">Mikko Poyhonen</author>
    </properties>
    <template>
        <release date="YYYY-MM-DD" description="OPTIONAL DESCRIPTION" version="x.y.z">
            <action dev="USER" type="add|fix|update|change">
				Description about the action.
			</action>
        </release>
    </template>
    <body>
        <release description="Development release" version="@NEXT@">
				</release>
<release date="2011-04-21" description="Development release" version="1.2.19">
			<action dev="srkrishnan" type="add">ReadFileRecords method includes a feature to read Excel files.</action>
		</release>
		<release date="2011-02-19" description="Development release" version="1.2.18">
            <action dev="phanisrinivas" type="add">Implemented CreateDirectory webservice</action>
            <action dev="pgussow" type="fix">Fixed the configuration page to be compatible with BOP4.</action>
            <action dev="pgussow" type="fix">Fixed issue 8: drivemappings don't work anymore</action>
            <action dev="pgussow" type="fix">Fixed issue 11: empty page after save</action>
            <action dev="pgussow" type="fix">Fixed issue 3: use-simple-xpath was not stored.</action>
        </release>
        <release date="2011-01-13" description="Development release" version="1.2.17">
            <action dev="jraveend" type="fix">File poller doesnot process the files, if polling folder and processing folder is configured to different file systems.This is now fixed</action>
        </release>
        <release date="2010-12-02" description="Development release" version="1.2.16">
            <action dev="yravi" type="fix">ReadXmlFileRecords gave an error because it is unable to read configuration properties.modified xpath expression for the variables in the ApplicationConfiguration file.</action>
            <action dev="yravi" type="add">A patch added to get the list of files for the webservice "getListOfFiles".Added "filesize" attribute to the getListOfFiles repsonse.</action>
            <action dev="yravi" type="update">Updated FileConnector Manual document according to the changes.</action>
        </release>
        <release date="2010-11-08" description="Migration release" version="1.2.15">
            <action dev="rbiju" type="migration">Moved fileconnector source code base to opensource model. The projects hosted @ code.google and changes are made build scripts, svn:exteranal to point to opensourced Build Framework binaries etc.</action>
        </release>
        <release date="2009-08-03" description="Development release" version="1.2.14">
            <action dev="mpoyhone" type="fix">DirectoryPoller configuration reading is fixed for BOP-4</action>
            <action dev="mpoyhone" type="change">Drive mappings are loaded before the directory poller. This fixes problems when drive mappings were used in the poller input folder names</action>
            <action dev="mpoyhone" type="fix">If directory poller failed to lock the input folder, then poller does not exit any more, but gives a warning.</action>
            <action dev="mpoyhone" type="fix">If a remote Windows file share was disconnected, the polling thread would fail due to an issue with Sun Java implementation. Now the error is caught properly.</action>
        </release>
        <release date="2009-03-11" description="Development release" version="1.2.13">
            <action dev="mpoyhone" type="fix">ReadFileRecords method gave an error when a file with no new line at the end of the file was read. Now this regex record pattern work for those files: (.*)[\r\n]*</action>
        </release>
        <release date="2009-02-05" description="Development release" version="1.2.12">
            <action dev="mpoyhone" type="fix">ReadFileRecords method would not return when validateOnly was set to true. This is now fixed.</action>
        </release>
        <release date="2008-12-17" description="Development release" version="1.2.11">
            <action dev="mpoyhone" type="add">When file connector was set to start up automatically, it would fail because XML Store SOAP processor was not started properly. Now the connector page adds a dependency to the XML Store processor and file connector is started after the XML Store SOAP processor.</action>
        </release>
        <release date="2008-12-09" description="Development release" version="1.2.10">
            <action dev="hvdvlier" type="add">Added property 'Default User DN' to poller configuration page. This value is used when no  value is set for user in poller-config.xml</action>
        </release>
        <release date="2008-11-03" description="Development release" version="1.2.9">
            <action dev="mpoyhone" type="add">ReadFileRecords: FileType configuration element now supports attribute 'allowempty' which determines if empty files are allowed (default value is 'true'). If this is set to 'false' and the file is empty, an error is thrown.</action>
            <action dev="mpoyhone" type="add">ReadFileRecords: Added endoffile element to the response which indicates if the end of the file has been reached.</action>
        </release>
        <release date="2008-09-19" description="Development release" version="1.2.8">
            <action dev="mpoyhone" type="unknown">Fixed number formatting problem for WriteFileRecords when the input was empty.</action>
            <action dev="mpoyhone" type="change">Directory poller file name filters are now case insensitive. To use case sensitive matching, use a regular expression (type="regex"), e.g. (?-i).+\.xml</action>
        </release>
        <release date="2008-09-10" description="Development release" version="1.2.7">
            <action dev="mpoyhone" type="change">SOAP method exceptions are now logged to the warning level instead of error.</action>
            <action dev="mpoyhone" type="fix">Drive mapping problems with non-English locales fixed by updating the coelib.</action>
            <action dev="mpoyhone" type="add">Directory poller now supports file name filters.</action>
        </release>
        <release date="2008-06-11" description="Development release" version="1.2.6">
            <action dev="mpoyhone" type="change">ReadFileRecords and WriteFileRecords use the character set encoding specified in the 
configuration page but they don't support X-CORDYS-LATIN1-ASCII encoding, so if that was specified, an error was given. Now those method always default to ISO-8895-1 if X-CORDYS-LATIN1-ASCII is specified in the configuration page.</action>
            <action dev="mpoyhone" type="add">Added an optional charset parameter for ReadFile and WriteFile methods for specifying the character set encoding to be used. This can be used to override the configuration page setting.</action>
            <action dev="mpoyhone" type="fix">ReadXmlFileRecords method didn't return the root node correctly.</action>
        </release>
        <release date="2008-03-28" description="Development release" version="1.2.5">
            <action dev="mpoyhone" type="add">DirectoryPoller: The original file name was wrong in the trigger SOAP message when the file was in the application processing folder.</action>
            <action dev="mpoyhone" type="change">DirectoryPoller keeps per-file state information in the processing folder. This information is used to handle recovery from error situations more robustly. The file state can be correctly determined even after connector restart.</action>
            <action dev="mpoyhone" type="add">SOAP trigger now can have parameter 'can-retry'. If set to 'true' SOAP trigger is executed even if it has failed previously (e.g. with a timeout). This requires that the web service must be able to handle the same file multiple times.</action>
            <action dev="mpoyhone" type="change">File processing now tries to recover from errors better by retrying the failed operation (e.g. moving file to application processing folder or the SOAP trigger). Retry wait times are: 10 sec, 30 sec, 1 min, 5 mins and 30 mins. If the processing still fails, the file is moved to the error folder.</action>
        </release>
        <release date="2008-02-27" description="Development release" version="1.2.4">
            <action dev="mpoyhone" type="fix">Multi-byte support enabled for ReadLargeXmlFileRecords. Also a bug in the cursorData handling for reading multiple records is fixed.</action>
            <action dev="mpoyhone" type="fix">Fixed a backwards compatibility bug in WriteFileRecords.</action>
        </release>
        <release date="2008-02-19" description="Development release" version="1.2.3">
            <action dev="mpoyhone" type="add">Added the ReadLargeXmlFileRecords method in to the method set.</action>
            <action dev="mpoyhone" type="fix">Configuration page default values were missing when creating a new SOAP node on C3.001.</action>
            <action dev="mpoyhone" type="fix">ISV package version is set to the project version (1.2), so that the ISV package can be updated in C3.</action>
        </release>
        <release date="2008-02-19" description="Development release" version="1.2.2">
            <action dev="mpoyhone" type="fix">Missing localization bundle file com.cordys.coe.ac.fileconnector.extensions.directorypoller.LogMessages.xml is now added to the ISV package.</action>
            <action dev="mpoyhone" type="fix">Configuration default were not correctly filled when creating a new SOAP node</action>
            <action dev="mpoyhone" type="add">Added 'move-file' parameter to the DirectoryPoller trigger. When this is set to true, the file is moved to an application processing folder before executing the web service. This is needed for long-running processes for which FileConnector does not know when the processing is finished.</action>
            <action dev="mpoyhone" type="add">Added support for reading large XML files. The file is parsed as a stream and only matched XML elements are kept in memory.</action>
        </release>
        <release date="2008-02-11" description="Development release" version="1.2.1">
            <action dev="mpoyhone" type="change">(Internal change): All SOAP method are refactored into separate classes.</action>
            <action dev="mpoyhone" type="update">ReadFileRecords and WriteFileRecords configuration is now loading has changed. Previously it was checked from XMLStore every 30 seconds. Now the configuration is reloaded for every SOAP method call, if the 'reload configuration' parameter is set on the configuration page. This parameter should be set only when development.</action>
            <action dev="mpoyhone" type="change">All XPaths now use real NOM XPaths.</action>
            <action dev="mpoyhone" type="add">WriteFileRecords 'if' statement now can have 'xpath' condition which branches if the given xpath evaluates to 'true'</action>
            <action dev="mpoyhone" type="add">Added a DirectoryPoller which scans for files in input folder(s) and fires SOAP requests for each file. This includes JMX counters for success and error situations.</action>
        </release>
        <release date="2008-01-14" description="Maintenance release" version="1.1.34">
            <action dev="mpoyhone" type="fix">Fixed a double-delete while loading the configuration from XMLStore</action>
            <action dev="mpoyhone" type="add">Fixed WriteFileRecords date parsing for when the date value was an empty string.</action>
        </release>
        <release date="2007-12-21" description="Maintenance release" version="1.1.33">
            <action dev="pgussow" type="change">Changed the way that drivemappings are done. If there are already drivemappings under the same name of drive, those mappings will be deleted so that the configured mappings can be created.</action>
        </release>
        <release date="2007-10-24" description="Maintenance release" version="1.1.32">
            <action dev="mpoyhone" type="fix">Removed a memory leak with method ReadXMLFileRecords.</action>
        </release>
        <release date="2007-10-04" description="Maintenance release" version="1.1.31">
            <action dev="mpoyhone" type="change">Classpath is now defined in the application connector definition instead of in the bcp.classpath. This means that no classpath needs to be set after creating the SOAP processor. Also coelib.jar is included in the ISV package, so the separate ISV package does not need to be installed.</action>
            <action dev="mpoyhone" type="update">Method WSDL's are updated for C3</action>
        </release>
        <release date="2007-08-16" description="Maintenance release" version="1.1.30">
            <action dev="mpoyhone" type="add">Added two new parameters for the ReadFileRecords method:
<ul>
                    <li>
                        <b>width</b> - Specifies a fixed width for this field</li>
                    <li>
                        <b>trim</b> - If set to "true" the final value will be trimmed of spaces before writing it to the XML response.</li>
                </ul>
            </action>
            <action dev="mpoyhone" type="change">Documentation is no longer packaged in the ISV package. The manuals are kept in CDN and a copy is kept with each build in the service solutions download area.</action>
        </release>
        <release date="2007-03-30" description="Maintenance release" version="1.1.29">
            <action dev="mpoyhone" type="update">Project site update release.</action>
        </release>
        <release date="2007-03-22" description="Maintenance release" version="1.1.27">
            <action dev="mpoyhone" type="add">New build for the project site.</action>
        </release>
        <release date="2007-02-27" description="Maintenance release" version="1.1.26.22">
            <action dev="mpoyhone" type="add">A new method CountNumberOfLines was added. This is used for counting lines
in a text file.</action>
        </release>
        <release date="2007-02-20" description="Maintenance release" version="1.1.24.20">
            <action dev="svgeest" type="update">Method WSDL's are updated so that types are included and the right levels are shown.</action>
        </release>
    </body>
</document>
